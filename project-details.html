<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Project Details | RMVH Portfolio</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link rel="stylesheet" href="styles.css">
  <style>
    /* Lightbox Modal */
    .lightbox {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      z-index: 1000;
      justify-content: center;
      align-items: center;
    }
    
    .lightbox.active {
      display: flex;
    }
    
    .lightbox-content {
      position: relative;
      max-width: 90%;
      max-height: 90%;
    }
    
    .lightbox img {
      max-width: 100%;
      max-height: 80vh;
      border: 3px solid white;
      border-radius: 5px;
      transition: transform 0.3s ease;
      transform-origin: center center;
      cursor: zoom-in;
    }
    
    .lightbox img.zoomed {
      cursor: grab;
    }
    
    .lightbox img.zoomed:active {
      cursor: grabbing;
    }
    
    .lightbox-zoom {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 10px;
      z-index: 1002;
    }
    
    .lightbox-zoom button {
      background: rgba(0, 0, 0, 0.7);
      border: none;
      color: white;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 1.2rem;
      transition: background 0.3s ease;
    }
    
    .lightbox-zoom button:hover {
      background: var(--primary);
    }
    
    .lightbox-close, .lightbox-prev, .lightbox-next {
      position: absolute;
      color: white;
      font-size: 2rem;
      cursor: pointer;
      background: rgba(0, 0, 0, 0.5);
      border: none;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
    }
    
    .lightbox-close:hover, .lightbox-prev:hover, .lightbox-next:hover {
      background: var(--primary);
    }
    
    .lightbox-close {
      top: 20px;
      right: 20px;
    }
    
    .lightbox-prev {
      left: 20px;
      top: 50%;
      transform: translateY(-50%);
    }
    
    .lightbox-next {
      right: 20px;
      top: 50%;
      transform: translateY(-50%);
    }
    
    @media (max-width: 768px) {
      .lightbox-prev, .lightbox-next {
        font-size: 1.5rem;
        width: 40px;
        height: 40px;
      }
      
      .lightbox-close {
        top: 10px;
        right: 10px;
        font-size: 1.5rem;
        width: 40px;
        height: 40px;
      }
    }
  </style>
  <style>
    .project-header {
      text-align: center;
      max-width: 800px;
      margin: 0 auto 3rem;
    }
    
    .project-header h1 {
      margin-bottom: 0.5rem;
      font-size: 2.5rem;
      color: var(--light);
    }
    
    .project-subtitle {
      color: var(--primary);
      font-size: 1.25rem;
      margin-bottom: 1.5rem;
      display: block;
    }
    
    .project-description {
      color: var(--gray);
      line-height: 1.8;
      margin-bottom: 2rem;
    }
    
    .project-gallery {
      margin-top: 2rem;
    }
    
    .gallery-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 1.5rem;
      margin-top: 2rem;
    }
    
    .gallery-item {
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease;
    }
    
    .gallery-item:hover {
      transform: translateY(-5px);
    }
    
    .gallery-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }
    
    .back-button {
      display: inline-flex;
      align-items: center;
      color: var(--light);
      text-decoration: none;
      margin: 1rem 0 2rem;
      transition: color 0.3s ease;
      font-size: 1rem;
    }
    
    .back-button:hover {
      color: var(--primary);
    }
    
    .back-button i {
      margin-right: 8px;
    }
    
    @media (max-width: 768px) {
      .back-button {
        margin: 0.5rem 0 1.5rem;
        font-size: 0.9rem;
      }
    }
    
    .back-button {
      display: inline-flex;
      align-items: center;
      color: var(--light);
      text-decoration: none;
      margin-bottom: 2rem;
      transition: color 0.3s ease;
    }
    
    .back-button:hover {
      color: var(--primary);
    }
    
    .back-button i {
      margin-right: 8px;
    }
    
    .project-header {
      margin-bottom: 2rem;
    }
    
    .project-description {
      max-width: 800px;
      margin: 0 auto 2rem;
      line-height: 1.8;
    }
  </style>
</head>
<body>
  <!-- Navigation -->
  <nav class="navbar">
    <div class="container">
      <a href="#" class="logo">RMVH;</a>
      <div class="nav-links">
        <a href="index.html#about">About</a>
        <a href="index.html#work">Projects</a>
        <a href="index.html#contact">Contact</a>
        <a href="resume.pdf" class="btn btn-primary" download><i class="fas fa-download"></i> Resume</a>
      </div>
      <button class="hamburger" aria-label="Menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </nav>

  <!-- Project Details -->
  <section class="section project-details">
    <div class="container">
      <a href="index.html#work" class="back-button">
        <i class="fas fa-arrow-left"></i> Back to Projects
      </a>
      
      <div class="project-header">
        <h1 id="project-title">Project Title</h1>
        <span id="project-subtitle" class="project-subtitle">Project Subtitle</span>
        <p id="project-description" class="project-description">
          <!-- Project description will be inserted here by JavaScript -->
        </p>
      </div>
      
      <div class="project-gallery">
        <h3>Gallery</h3>
        <div id="gallery-grid" class="gallery-grid">
          <!-- Gallery items will be inserted here by JavaScript -->
        </div>
      </div>
    </div>
  </section>
  
  <!-- Lightbox Modal -->
  <div class="lightbox" id="lightbox">
    <button class="lightbox-close" id="lightbox-close">&times;</button>
    <button class="lightbox-prev" id="lightbox-prev">&#10094;</button>
    <div class="lightbox-content">
      <img id="lightbox-image" src="" alt="Project image">
    </div>
    <div class="lightbox-zoom">
      <button id="zoom-in" title="Zoom In"><i class="fas fa-search-plus"></i></button>
      <button id="zoom-out" title="Zoom Out"><i class="fas fa-search-minus"></i></button>
      <button id="zoom-reset" title="Reset Zoom"><i class="fas fa-sync-alt"></i></button>
    </div>
    <button class="lightbox-next" id="lightbox-next">&#10095;</button>
  </div>

  <script>
    // Get project data from URL parameters
    const urlParams = new URLSearchParams(window.location.search);
    const projectId = urlParams.get('id');
    
    // Project data - you'll need to update this with your actual project data
    const projects = {
      'patients-record': {
    title: 'Patients Record Management System',
    subtitle: 'Mother Mary Medical Clinic',
    description: 'A Windows-friendly desktop system that centralizes clinic workflows: secure user authentication, patient registration (adult & pediatric), consultation management, reporting/printing, and administrative user & audit controls.',
    images: [
        'img/prms/login.png',
        'img/prms/admin.png',
        'img/prms/medicalrecord1.png',
        'img/prms/medicalrecord2.png',
        'img/prms/pediarecord1.png',
        'img/prms/pediarecord2.png',
        'img/prms/managepts.png',
        'img/prms/consultation1.png',
        'img/prms/consultation2.png',
        'img/prms/history.png',
        'img/prms/adult.png',
        'img/prms/child.png',
        'img/prms/c-reports.png',
        'img/prms/about.png',
        'img/prms/logs.png',
        'img/prms/receptionist.png',
        'img/prms/doctor.png'
    ]
},
      'ptoda': {
    title: 'PTODA Records Management',
    subtitle: 'Piat Tricycle Operators and Drivers Association',
    description: 'A Windows desktop application for managing franchise applications and records for a municipality. It handles submission, validation, renewals, expiry monitoring, printing/reports, user accounts, and admin utilities.',
    images: [
        'img/ptoda/login.png',
        'img/ptoda/admin1.png',
        'img/ptoda/admin2.png',
        'img/ptoda/admin3.png',
        'img/ptoda/registration.png',
        'img/ptoda/owners.png',
        'img/ptoda/signatoryform.png',
        'img/ptoda/signatories.png',
        'img/ptoda/application1.png',
        'img/ptoda/application2.png',
        'img/ptoda/applications.png',
        'img/ptoda/renewal.png',
        'img/ptoda/franchise.png',
        'img/ptoda/renewed.png',
        'img/ptoda/expired.png',
        'img/ptoda/staff1.png',
        'img/ptoda/staff2.png'
    ]
},
      'loan-management': {
    title: 'Loan Management System',
    subtitle: 'Kaagapay sa Pag-angat Lending Inc.',
    description: 'A web-based system for managing loan operations: borrower signups, loan applications/approvals, disbursements, installment tracking, payment processing (including GCash receipt uploads), and reports — with role-based dashboards for Admin, Loan Officer, and Borrower.',
    images: [
        'img/lms/admin/login.png',
        'img/lms/admin/admin1.png',
        'img/lms/admin/admin2.png',
        'img/lms/admin/admin3.png',
        'img/lms/admin/applications.png',
        'img/lms/admin/activeloans.png',
        'img/lms/admin/history.png',
        'img/lms/admin/payments.png',
        'img/lms/admin/gcash.png',
        'img/lms/admin/updategcash.png',
        'img/lms/admin/newaccts.png',
        'img/lms/admin/newpayments.png',
        'img/lms/admin/loanreport.png',
        'img/lms/admin/paymentreport.png',
        'img/lms/admin/backup.png',
        'img/lms/admin/system.png',
        'img/lms/loanofficer/dashboard.png',
        'img/lms/loanofficer/borrowers.png',
        'img/lms/loanofficer/applications.png',
        'img/lms/loanofficer/status.png',
        'img/lms/loanofficer/disbursement.png',
        'img/lms/loanofficer/payments.png',
        'img/lms/loanofficer/history.png',
        'img/lms/loanofficer/approvegcash.png',
        'img/lms/loanofficer/loansgranted.png',
        'img/lms/loanofficer/loanspayment.png',
        'img/lms/loanofficer/newpayments.png',
        'img/lms/loanofficer/reminders.png',
        'img/lms/borrower/dashboard.png',
        'img/lms/borrower/application.png',
        'img/lms/borrower/docs.png',
        'img/lms/borrower/status.png',
        'img/lms/borrower/balance.png',
        'img/lms/borrower/history.png',
        'img/lms/borrower/dues.png',
        'img/lms/borrower/overdue.png',
        'img/lms/borrower/gcash.png',
        'img/lms/borrower/updates.png',
        'img/lms/borrower/reminders.png'
    ]
},
      'dental-appointment': {
        title: 'Online Appointment System',
        subtitle: 'Baculi Dental Clinic',
        description: 'A web-based appointment & clinic management system that lets patients sign up, view services, book available time slots, upload proofs, and manage appointments — while admins manage schedules, block times, review/approve bookings, and view clinic stats.',
        images: [
        'img/oas/admin/home.png',
        'img/oas/admin/services.png',
        'img/oas/admin/contact.png',
        'img/oas/admin/login.png',
        'img/oas/admin/admin1.png',
        'img/oas/admin/admin2.png',
        'img/oas/admin/calendar.png',
        'img/oas/admin/manageappts.png',
        'img/oas/admin/slots.png',
        'img/oas/admin/appointments.png',
        'img/oas/admin/patients.png',
        'img/oas/admin/users.png',       
        'img/oas/admin/clinic.png',
        'img/oas/admin/system.png',
        'img/oas/admin/manual.png',
        'img/oas/pt/signup.png',    
        'img/oas/admin/login.png',    
        'img/oas/pt/dashboard.png',
        'img/oas/pt/appointments.png'
    ]
      },
      'pilgrims-inn': {
        title: 'Online Reservation System',
        subtitle: "Pilgrim's Inn",
        description: 'An end-to-end web reservation system for Pilgrims Inn that handles room browsing, availability checks, cart-style booking, checkout (GCash/PayMongo), booking emails, and an admin dashboard for managing rooms, bookings and payments.',
        images: [
        'img/ors/admin/home.png',
        'img/ors/admin/bookrooms.png',
        'img/ors/admin/contact.png',
        'img/ors/admin/login.png',
        'img/ors/admin/dashboard.png',
        'img/ors/admin/calendar.png',
        'img/ors/admin/bookings.png',
        'img/ors/admin/rooms.png',
        'img/ors/admin/reviews.png',
        'img/ors/admin/gcash.png',
        'img/ors/client/signup.png',
        'img/ors/client/login.png',
        'img/ors/client/dashboard.png',
        'img/ors/client/cart.png',
        'img/ors/client/bookings.png',
        'img/ors/client/docs.png',
    ]
      }
    };
    
    // Enhanced Lightbox functionality with better touch and drag support
    const lightbox = document.getElementById('lightbox');
    const lightboxImage = document.getElementById('lightbox-image');
    const lightboxClose = document.getElementById('lightbox-close');
    const lightboxPrev = document.getElementById('lightbox-prev');
    const lightboxNext = document.getElementById('lightbox-next');
    const zoomInBtn = document.getElementById('zoom-in');
    const zoomOutBtn = document.getElementById('zoom-out');
    const zoomResetBtn = document.getElementById('zoom-reset');
    
    let currentImageIndex = 0;
    let projectImages = [];
    let scale = 1;
    let posX = 0;
    let posY = 0;
    let startX, startY, translateX = 0, translateY = 0;
    let isDragging = false;

    function resetZoom() {
        scale = 1;
        translateX = 0;
        translateY = 0;
        updateTransform();
        lightboxImage.classList.remove('zoomed');
        lightboxImage.style.cursor = 'zoom-in';
    }

    function updateTransform() {
        lightboxImage.style.transform = `scale(${scale}) translate(${translateX}px, ${translateY}px)`;
    }
    
    function openLightbox(index) {
        currentImageIndex = index;
        lightboxImage.src = projectImages[index];
        lightbox.classList.add('active');
        document.body.style.overflow = 'hidden';
        resetZoom();
    }
    
    function closeLightbox() {
        lightbox.classList.remove('active');
        document.body.style.overflow = 'auto';
        resetZoom();
    }
    
    function showNextImage() {
        currentImageIndex = (currentImageIndex + 1) % projectImages.length;
        lightboxImage.src = projectImages[currentImageIndex];
        resetZoom();
    }
    
    function showPrevImage() {
        currentImageIndex = (currentImageIndex - 1 + projectImages.length) % projectImages.length;
        lightboxImage.src = projectImages[currentImageIndex];
        resetZoom();
    }

    // Zoom functionality
    function zoomIn() {
        if (scale < 3) {
            scale += 0.5;
            updateTransform();
            lightboxImage.classList.add('zoomed');
            lightboxImage.style.cursor = 'grab';
        }
    }
    
    function zoomOut() {
        if (scale > 1) {
            scale -= 0.5;
            updateTransform();
            if (scale === 1) {
                resetZoom();
            }
        }
    }

    // Touch and drag functionality
    function handleDragStart(e) {
        if (scale > 1) {
            isDragging = true;
            startX = (e.type === 'mousedown') ? e.clientX : e.touches[0].clientX;
            startY = (e.type === 'mousedown') ? e.clientY : e.touches[0].clientY;
            lightboxImage.style.cursor = 'grabbing';
            e.preventDefault();
        }
    }

    function handleDragMove(e) {
        if (!isDragging) return;
        
        const x = (e.type === 'mousemove') ? e.clientX : e.touches[0].clientX;
        const y = (e.type === 'mousemove') ? e.clientY : e.touches[0].clientY;
        
        const dx = x - startX;
        const dy = y - startY;
        
        translateX += dx;
        translateY += dy;
        
        // Limit dragging to image boundaries
        const imgWidth = lightboxImage.offsetWidth * scale;
        const imgHeight = lightboxImage.offsetHeight * scale;
        const container = lightboxImage.parentElement;
        const maxX = Math.max(0, (imgWidth - container.offsetWidth) / 2);
        const maxY = Math.max(0, (imgHeight - container.offsetHeight) / 2);
        
        translateX = Math.max(-maxX, Math.min(maxX, translateX));
        translateY = Math.max(-maxY, Math.min(maxY, translateY));
        
        updateTransform();
        
        startX = x;
        startY = y;
    }

    function handleDragEnd() {
        isDragging = false;
        if (scale > 1) {
            lightboxImage.style.cursor = 'grab';
        }
    }

    // Mouse wheel zoom
    function handleWheel(e) {
        if (e.ctrlKey) {
            e.preventDefault();
            if (e.deltaY < 0) {
                zoomIn();
            } else {
                zoomOut();
            }
        }
    }

    // Double click to zoom in/out
    function handleDoubleClick() {
        if (scale === 1) {
            zoomIn();
        } else {
            resetZoom();
        }
    }

    // Event listeners
    lightboxClose.addEventListener('click', closeLightbox);
    lightboxNext.addEventListener('click', showNextImage);
    lightboxPrev.addEventListener('click', showPrevImage);
    zoomInBtn.addEventListener('click', zoomIn);
    zoomOutBtn.addEventListener('click', zoomOut);
    zoomResetBtn.addEventListener('click', resetZoom);

    // Mouse events
    lightboxImage.addEventListener('mousedown', handleDragStart);
    document.addEventListener('mousemove', handleDragMove);
    document.addEventListener('mouseup', handleDragEnd);

    // Touch events
    lightboxImage.addEventListener('touchstart', handleDragStart, { passive: false });
    document.addEventListener('touchmove', handleDragMove, { passive: false });
    document.addEventListener('touchend', handleDragEnd, { passive: false });

    // Other interactions
    lightboxImage.addEventListener('dblclick', handleDoubleClick);
    lightboxImage.addEventListener('wheel', handleWheel, { passive: false });

    // Close lightbox when clicking outside the image
    lightbox.addEventListener('click', (e) => {
        if (e.target === lightbox) {
            closeLightbox();
        }
    });

    // Keyboard navigation
    document.addEventListener('keydown', (e) => {
        if (!lightbox.classList.contains('active')) return;
        
        switch(e.key) {
            case 'Escape':
                closeLightbox();
                break;
            case 'ArrowRight':
                showNextImage();
                break;
            case 'ArrowLeft':
                showPrevImage();
                break;
            case '+':
            case '=':
                zoomIn();
                break;
            case '-':
                zoomOut();
                break;
            case '0':
                resetZoom();
                break;
        }
    });
    
    // Close lightbox when clicking outside the image
    lightbox.addEventListener('click', (e) => {
      if (e.target === lightbox) {
        closeLightbox();
      }
    });
    
    // Keyboard navigation
    document.addEventListener('keydown', (e) => {
      if (!lightbox.classList.contains('active')) return;
      
      if (e.key === 'Escape') {
        closeLightbox();
      } else if (e.key === 'ArrowRight') {
        showNextImage();
      } else if (e.key === 'ArrowLeft') {
        showPrevImage();
      }
    });
    
    // Load project data
    function loadProject() {
      if (projectId && projects[projectId]) {
        const project = projects[projectId];
        document.title = `${project.title} | RMVH Portfolio`;
        document.getElementById('project-title').textContent = project.title;
        document.getElementById('project-subtitle').textContent = project.subtitle;
        document.getElementById('project-description').textContent = project.description;
        
        // Store project images for lightbox
        projectImages = project.images;
        
        // Create gallery items
        const galleryGrid = document.getElementById('gallery-grid');
        galleryGrid.innerHTML = '';
        
        project.images.forEach((image, index) => {
          const galleryItem = document.createElement('div');
          galleryItem.className = 'gallery-item';
          galleryItem.innerHTML = `
            <img src="${image}" alt="${project.title} - ${index + 1}" loading="lazy">
          `;
          galleryItem.addEventListener('click', () => openLightbox(index));
          galleryGrid.appendChild(galleryItem);
        });
      } else {
        // Redirect to projects section if project not found
        window.location.href = 'index.html#work';
      }
    }
    
    // Initialize lightbox for gallery
    function initLightbox() {
      // You can add a lightbox library here if needed
      // For example: https://lokeshdhakar.com/projects/lightbox2/
    }
    
    // Initialize the page
    document.addEventListener('DOMContentLoaded', () => {
      loadProject();
      initLightbox();
      
      // Mobile menu toggle
      const hamburger = document.querySelector('.hamburger');
      const navLinks = document.querySelector('.nav-links');
      
      if (hamburger && navLinks) {
        hamburger.addEventListener('click', () => {
          hamburger.classList.toggle('active');
          navLinks.classList.toggle('active');
        });
        
        // Close mobile menu when clicking a link
        document.querySelectorAll('.nav-links a').forEach(link => {
          link.addEventListener('click', () => {
            hamburger.classList.remove('active');
            navLinks.classList.remove('active');
          });
        });
      }
    });
  </script>
</body>
</html>
